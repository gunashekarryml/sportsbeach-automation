# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Validate social media icon hovering and navigation
- Location: /Users/gunashekar/Automation/SportsBeach/sportsbeachautomation/playwright/specs/web/demo.test.ts:65:5

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toHaveURL(expected)

Locator: locator(':root')
Expected pattern: /x.com/
Received string:  "https://www.linkedin.com/"
Call log:
  - expect.toHaveURL with timeout 5000ms
  - waiting for locator(':root')
    8 Ã— locator resolved to <html lang="en">â€¦</html>
      - unexpected value "https://www.linkedin.com/"

    at /Users/gunashekar/Automation/SportsBeach/sportsbeachautomation/playwright/specs/web/demo.test.ts:133:29
```

# Page snapshot

```yaml
- link "Skip to Main Content"
- banner:
  - link "Sport Beach hosted by Stagwell":
    - img
    - text: Sport Beach hosted by Stagwell
    - img
  - navigation "Primary navigation":
    - list:
      - listitem:
        - link "Schedule"
      - listitem:
        - link "Roster"
      - listitem:
        - link "Partners"
      - listitem:
        - link "FAQ"
      - listitem:
        - link "Login"
  - link "Letâ€™s partner!"
- heading "Download the App ðŸš¨" [level=2]
- button "Close Alert Pop Up":
  - img
- paragraph: Dallas win and they will be the NBA 2024 champs!
- link "CTA label"
- main:
  - text: SPORT
  - img "Joe Burrow"
  - text: BEACH
  - img "Eric Cantona"
  - text: SPORT
  - img "Megan Rapinoe"
  - text: BEACH
  - img "Roberto Carlos"
  - text: SPORT
  - img "Joe Burrow"
  - text: BEACH
  - img "Eric Cantona"
  - text: SPORT
  - img "Megan Rapinoe"
  - text: BEACH
  - img "Roberto Carlos"
  - img "Amanda Kassar"
  - text: CANNES
  - img "Karen Carney"
  - text: "2024"
  - img "Brandon Marshall"
  - text: CANNES
  - img "Helio Castroneves"
  - text: "2024"
  - img "Amanda Kassar"
  - text: CANNES
  - img "Karen Carney"
  - text: "2024"
  - img "Brandon Marshall"
  - text: CANNES
  - img "Helio Castroneves"
  - text: "2024"
  - img "Helio Castroneves"
  - img "Mary Earps"
  - text: SPORT
  - img "Mary Earps"
  - img "Shannon Sharpe"
  - text: BEACH
  - img "Shannon Sharpe"
  - img "Diana Flores"
  - text: SPORT
  - img "Diana Flores"
  - img "JuJu Watkins"
  - text: BEACH
  - img "Helio Castroneves"
  - img "Mary Earps"
  - text: SPORT
  - img "Mary Earps"
  - img "Shannon Sharpe"
  - text: BEACH
  - img "Shannon Sharpe"
  - img "Diana Flores"
  - text: SPORT
  - img "Diana Flores"
  - img "JuJu Watkins"
  - text: BEACH
  - heading "SPORT BEACH CANNES 2024" [level=1]
  - img
  - text: scroll
  - img
  - paragraph: SPORT BEACH returns to Cannes Lions for its 3rd season from June 16th to June 19th, 2025 â€” bringing together athletes, marketers and global leaders to explore the intersection of sport, creativity and culture.
  - text: hosted by
  - img
  - link "Request a pass"
  - heading "The ROSTER" [level=2]
  - link "VIEW FULL ROSTER"
  - link "VIEW SCHEDULE"
  - heading "The Latest" [level=2]
  - link "The Latest":
    - img "The Latest"
  - text: Ad Age
  - link "Inside Stagwellâ€™s Sport Beach at Cannes and how it helped athletes connect with brands Lorem amet viver ra mi nunc adipiscing Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
  - paragraph: Blandit donec pellentesque vel at amet viver ra mi nunc adipiscing. Ullamcorper nulla nisl aliquam bibendum at felis ipsum volutpat.
  - heading "WHAT PEOPLE ARE SAYING" [level=2]
  - paragraph: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo.
  - group "1 / 7":
    - text: CNBC
    - link "Why sports marketing is a growth area according to Stagwell's Mark Penn"
  - group "2 / 7":
    - text: Ad Age
    - link "Inside Stagwellâ€™s Sport Beach at Cannes and how it helped athletes connect with brands Lorem amet viver ra mi nunc adipiscing Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
  - group "3 / 7":
    - text: Adweek
    - link "With Stagwell, Mark Penn Is Back in the Arena"
  - group "4 / 7":
    - text: Adweek
    - link "Even Without S4 Capital, Stagwell Has Ambitious Growth Plans"
  - group "5 / 7":
    - text: Nike
    - link "Lorem Ipsum Test News"
  - group "6 / 7":
    - text: Stagwell
    - link "New Athletes Confirmed to Appear at Stagwellâ€™s (STGW) Sport Beach 2024 During Cannes Lions"
  - group "7 / 7":
    - text: Adweek
    - link "Creativity, Pro Athletes and Pickleball Collide at Stagwell Sport Beach"
  - button "Go to previous slide" [disabled]:
    - img
    - text: previous
  - button "Go to next slide":
    - img
    - text: next
  - heading "Featured Content" [level=3]
  - figure:
    - img "Featured Content"
  - heading "Header Text" [level=1]
  - paragraph: Lorem ipsum dolor sit amet consectetur. Purus nullam dui ante posuere mattis nulla. Sapien enim vitae sed adipiscing sit. Ullamcorper ipsum commodo ut consectetur nibh sit. Dignissim nibh dignissim volutpat nullam nunc nisl interdum tortor. Lorem ipsum dolor sit amet consectetur. Purus nullam dui ante posuere mattis nulla. Sapien enim vitae sed adipiscing.
  - heading "2024 Highlights" [level=2]
  - group "1 / 5":
    - img "An inevitable headline"
    - heading "An inevitable headline" [level=3]
    - paragraph: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna al
  - group "2 / 5":
    - link "Sample Headline 212 Sample Headline 212 Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit":
      - img "Sample Headline 212"
      - heading "Sample Headline 212" [level=3]
      - paragraph: Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit
  - group "3 / 5":
    - link "Promotional Headline Promotional Headline Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al":
      - img "Promotional Headline"
      - heading "Promotional Headline" [level=3]
      - paragraph: Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al
  - group "4 / 5":
    - img "Highlights headline"
    - heading "Highlights headline" [level=3]
    - paragraph: Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit
  - group "5 / 5":
    - link "gifimage gifimage Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al":
      - img "gifimage"
      - heading "gifimage" [level=3]
      - paragraph: Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al
  - button "Go to previous slide" [disabled]:
    - img
    - text: previous
  - button "Go to next slide":
    - img
    - text: next
  - region "Our Partners":
    - heading "Our Partners" [level=2]
    - link "View all"
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
- contentinfo:
  - link "Letâ€™s partner!"
  - link "Visit Instagram":
    - img
  - link "Visit X Profile":
    - img
  - link "Visit LinkedIn":
    - img
  - navigation:
    - list:
      - listitem:
        - link "Privacy Policy"
      - listitem:
        - link "Terms and Conditions"
      - listitem:
        - link "Contact Us"
- alert
```

# Test source

```ts
   33 |     });
   34 |     console.log(`Text-decoration after hover for "${name}": ${textDecorationAfterHover}`);
   35 |
   36 |     // 4. Validate if the element is underlined (check if 'underline' is in the 'text-decoration' value)
   37 |     const isUnderlined = textDecorationAfterHover.includes('underline');
   38 |     expect(isUnderlined).toBe(true); // This will fail the test if not underlined
   39 |     console.log(`Is the "${name}" link underlined on hover? ${isUnderlined ? 'Yes' : 'No'}`);
   40 |
   41 |     // 5. Make an API request to check the status code before clicking the link
   42 |     const response = await request.get(expectedUrl);
   43 |     console.log(`Status code for "${name}" before click: ${response.status()}`);
   44 |     expect(response.status()).toBe(200); // Ensure the status code is 200 (OK)
   45 |
   46 |     // 6. Click on the link to navigate to the corresponding page (same tab)
   47 |     await elementLocator.click();
   48 |
   49 |     // 7. Wait for the page to load and validate the URL
   50 |     await page.waitForURL(expectedUrl, { timeout: 10000 }); // Ensures we wait for the full URL to load
   51 |     const currentUrl = page.url();
   52 |     console.log(`URL after clicking "${name}": ${currentUrl}`);
   53 |
   54 |     // 8. Validate the complete URL
   55 |     expect(currentUrl).toBe(expectedUrl); // Ensure the full URL matches the expected URL
   56 |
   57 |     // 9. Navigate back to the original page (since the link opened in the same tab)
   58 |     await page.goBack();
   59 |     await page.waitForLoadState('domcontentloaded'); // Ensure the page is loaded again
   60 |
   61 |     console.log(`Navigated back to the main page after clicking on "${name}".`);
   62 |   }
   63 | });
   64 |
   65 | test('Validate social media icon hovering and navigation', async ({ page }) => {
   66 |   // Navigate to the page where the global footer with social network icons exists
   67 |   await page.goto('https://sportbeach-dev.vercel.app/');
   68 |   await page.getByRole('button', { name: 'Accept cookies' }).click();
   69 |
   70 |   // List of social media links with their corresponding names and selector
   71 |   const socialLinks = [
   72 |     { name: 'Visit Instagram', selector: 'a[aria-label="Visit Instagram"]' },
   73 |     { name: 'Visit X Profile', selector: 'a[aria-label="Visit X Profile"]' },
   74 |     { name: 'Visit LinkedIn', selector: 'a[aria-label="Visit LinkedIn"]' }
   75 |   ];
   76 |
   77 |   // Create an array to hold the popup pages
   78 |   let popups: any[] = [];
   79 |
   80 |   // Listen for the popups (new tabs)
   81 |   page.on('popup', (popup) => {
   82 |     console.log(`Popup opened: ${popup.url()}`); // Log popup URL for debugging
   83 |     popups.push(popup); // Add the new popup to the array
   84 |   });
   85 |
   86 |   // Iterate over each social media link to perform the hover and validate the circle appearance
   87 |   for (const { name, selector } of socialLinks) {
   88 |     // Get the social network icon element
   89 |     const iconLocator = page.locator(selector);
   90 |
   91 |     // 1. Hover over the social network icon
   92 |     await iconLocator.hover();
   93 |
   94 |     // 2. Wait for the hover effect to be fully applied (adjust timeout if needed)
   95 |     await page.waitForTimeout(1000);  // Wait for 1 second to allow animation to finish
   96 |
   97 |     // 3. Check for the CSS changes after hover (border-radius and border)
   98 |     const borderRadius = await iconLocator.evaluate((el: HTMLElement) => {
   99 |       return window.getComputedStyle(el).getPropertyValue('border-radius');
  100 |     });
  101 |
  102 |     const borderColor = await iconLocator.evaluate((el: HTMLElement) => {
  103 |       return window.getComputedStyle(el).getPropertyValue('border-color');
  104 |     });
  105 |
  106 |     console.log(`CSS after hover for "${name}": border-radius: ${borderRadius}, border-color: ${borderColor}`);
  107 |
  108 |     // 4. Assert that the border-radius is a large value (i.e., circular shape) and the border is visible (not transparent)
  109 |     expect(borderRadius).toBe('9999px'); // Checking for large value that indicates a circular shape
  110 |     expect(borderColor).not.toBe('transparent'); // Ensure the border has changed to something visible
  111 |
  112 |     // 5. Log success message
  113 |     console.log(`Circle appears on hover for "${name}": Border radius is ${borderRadius} and border color is ${borderColor}`);
  114 |   }
  115 |
  116 |   // Now, click the social media links to open the new tabs
  117 |   await page.getByRole('link', { name: 'Visit Instagram' }).click();
  118 |   await page.getByRole('link', { name: 'Visit X Profile' }).click();
  119 |   await page.getByRole('link', { name: 'Visit LinkedIn' }).click();
  120 |
  121 |   // Wait a bit to ensure the popups open (you can increase the timeout if necessary)
  122 |   await page.waitForTimeout(2000); // Wait for 2 seconds to ensure popups have time to open
  123 |
  124 |   // Ensure the popups have been captured by checking the number of popups in the array
  125 |   expect(popups.length).toBe(3); // Ensure that 3 popups have been captured
  126 |
  127 |   // Optionally, you can log the URLs of the popups to debug
  128 |   console.log('Captured popups:', popups.map(popup => popup.url()));
  129 |
  130 |   // Ensure the URLs of the popups are correct before proceeding with the assertions
  131 |   for (let i = 0; i < popups.length; i++) {
  132 |     console.log(`Popup URL at index ${i}: ${popups[i].url()}`);
> 133 |     await expect(popups[i]).toHaveURL(new RegExp(`${socialLinks[i].name.split(' ')[1].toLowerCase()}.com`)); // Validate URL (e.g., instagram.com, twitter.com, linkedin.com)
      |                             ^ Error: Timed out 5000ms waiting for expect(locator).toHaveURL(expected)
  134 |   }
  135 |
  136 |   // Optionally, you can also check if the popups have finished loading
  137 |   await Promise.all(popups.map(popup => popup.waitForLoadState('load')));
  138 | });
  139 |
  140 | test('Validate text and background color for lets partner tab on hovering', async ({ page }) => {
  141 |   // Navigate to the test page
  142 |   await page.goto('https://sportbeach-dev.vercel.app/'); // Replace with your actual URL
  143 |
  144 |   // Define the locator for the element (e.g., Schedule link)
  145 |   const elementLocator = page.getByRole('link', { name: 'Let\'s Partner' }); // Replace with your actual locator
  146 |
  147 |   // Define the expected colors (adjust these according to your actual values)
  148 |   const expectedTextColorBeforeHover = 'rgb(255, 255, 255)'; // Example: black text color
  149 |   const expectedBackgroundColorBeforeHover = 'rgba(0, 0, 0, 0)'; // Example: white background
  150 |
  151 |   const expectedTextColorAfterHover = 'rgb(0, 82, 125)'; // Example: red text color
  152 |   const expectedBackgroundColorAfterHover = 'rgb(163, 238, 255)'; // Example: green background
  153 |
  154 |   // 1. Check the initial state of the element (before hover)
  155 |   const initialTextColor = await elementLocator.evaluate((el: HTMLElement) => {
  156 |     const computedStyle = window.getComputedStyle(el);
  157 |     return computedStyle.getPropertyValue('color');
  158 |   });
  159 |   const initialBackgroundColor = await elementLocator.evaluate((el: HTMLElement) => {
  160 |     const computedStyle = window.getComputedStyle(el);
  161 |     return computedStyle.getPropertyValue('background-color');
  162 |   });
  163 |
  164 |   console.log(`Initial text color: ${initialTextColor}`);
  165 |   console.log(`Initial background color: ${initialBackgroundColor}`);
  166 |
  167 |   // Assert the initial colors
  168 |   expect(initialTextColor).toBe(expectedTextColorBeforeHover);
  169 |   expect(initialBackgroundColor).toBe(expectedBackgroundColorBeforeHover);
  170 |
  171 |   // 2. Hover over the element
  172 |   await elementLocator.hover();
  173 |
  174 |   // 3. Check the text color and background color after hover
  175 |   const textColorAfterHover = await elementLocator.evaluate((el: HTMLElement) => {
  176 |     const computedStyle = window.getComputedStyle(el);
  177 |     return computedStyle.getPropertyValue('color');
  178 |   });
  179 |   const backgroundColorAfterHover = await elementLocator.evaluate((el: HTMLElement) => {
  180 |     const computedStyle = window.getComputedStyle(el);
  181 |     return computedStyle.getPropertyValue('background-color');
  182 |   });
  183 |
  184 |   console.log(`Text color after hover: ${textColorAfterHover}`);
  185 |   console.log(`Background color after hover: ${backgroundColorAfterHover}`);
  186 |
  187 |   // 4. Assert that the text color and background color have changed after hover
  188 |   expect(textColorAfterHover).not.toBe(initialTextColor); // Assert text color has changed
  189 |   expect(backgroundColorAfterHover).not.toBe(initialBackgroundColor); // Assert background color has changed
  190 |
  191 |   // 5. Assert the exact expected text and background colors after hover
  192 |   expect(textColorAfterHover).toBe(expectedTextColorAfterHover); // Assert text color is the expected one
  193 |   expect(backgroundColorAfterHover).toBe(expectedBackgroundColorAfterHover); // Assert background color is the expected one
  194 |
  195 |   console.log(`Text color and background color changed and are as expected after hover`);
  196 | });
  197 |
```