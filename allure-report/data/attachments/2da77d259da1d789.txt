# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Featured 1 UP Test Suite >> Featured1UP - Validate horizontal animation of locator on light scrolling
- Location: /Users/gunashekar/Automation/SportsBeach/sportsbeachautomation/playwright/specs/web/demo.test.ts:56:8

# Error details

```
Error: expect(received).not.toEqual(expected) // deep equality

Expected: not "1"

    at /Users/gunashekar/Automation/SportsBeach/sportsbeachautomation/playwright/specs/web/demo.test.ts:88:35
```

# Page snapshot

```yaml
- link "Skip to Main Content"
- banner:
  - link "Sport Beach hosted by Stagwell":
    - img
    - text: Sport Beach hosted by Stagwell
    - img
  - navigation "Primary navigation":
    - list:
      - listitem:
        - link "Schedule"
      - listitem:
        - link "Roster"
      - listitem:
        - link "Partners"
      - listitem:
        - link "FAQ"
      - listitem:
        - link "Login"
  - link "Letâ€™s partner!"
- heading "Download the App ðŸš¨" [level=2]
- button "Close Alert Pop Up":
  - img
- paragraph: Dallas win and they will be the NBA 2024 champs!
- link "CTA label"
- main:
  - text: SPORT
  - img "Travis Kelce"
  - text: BEACH
  - img "Olajuwon Ajanaku"
  - text: SPORT
  - img "Mikaela Shiffrin"
  - text: BEACH
  - img "Carmelo Anthony"
  - text: SPORT
  - img "Travis Kelce"
  - text: BEACH
  - img "Olajuwon Ajanaku"
  - text: SPORT
  - img "Mikaela Shiffrin"
  - text: BEACH
  - img "Carmelo Anthony"
  - img "Paul Rabil"
  - text: CANNES
  - img "Sue Bird"
  - text: "2024"
  - img "Justin Jefferson"
  - text: CANNES
  - img "Flau'Jae Johnson"
  - text: "2024"
  - img "Paul Rabil"
  - text: CANNES
  - img "Sue Bird"
  - text: "2024"
  - img "Justin Jefferson"
  - text: CANNES
  - img "Flau'Jae Johnson"
  - text: "2024"
  - img "Joe Burrow"
  - text: SPORT
  - img "Brandon Marshall"
  - text: BEACH
  - img "Eric Cantona"
  - text: SPORT
  - img "Taylor Rooks"
  - text: BEACH
  - img "Joe Burrow"
  - text: SPORT
  - img "Brandon Marshall"
  - text: BEACH
  - img "Eric Cantona"
  - text: SPORT
  - img "Taylor Rooks"
  - text: BEACH
  - heading "SPORT BEACH CANNES 2024" [level=1]
  - img
  - text: scroll
  - img
  - paragraph: SPORT BEACH returns to Cannes Lions for its 3rd season from June 16th to June 19th, 2025 â€” bringing together athletes, marketers and global leaders to explore the intersection of sport, creativity and culture.
  - text: hosted by
  - img
  - link "Request a pass"
  - heading "The ROSTER" [level=2]
  - group "1 / 5":
    - img "Ben Lyons"
    - heading "Ben Lyons" [level=2]
    - paragraph: Creative Advisor, Stagwell
    - paragraph: Senior Creative Advisor to Stagwell and Sport Beach. He is a multi-platform, award winning On-Air Talent, Producer, and Marketing Strategist at the center of elevated sports storytelling.
    - link "Visit their X Profile":
      - img
  - group "2 / 5":
    - img "Chad Johnson"
    - heading "Chad Johnson" [level=2]
    - paragraph: Football and Media
    - paragraph: 6x Pro-Bowl selections, 3x All-Pro honors and was inducted into the Cincinnati Bengals' Ring of Honor in 2023.
    - link "Visit their Instagram":
      - img
    - link "Visit their X Profile":
      - img
  - group "3 / 5":
    - img "Paul Van Lewen"
    - heading "Paul Van Lewen" [level=2]
    - paragraph: EVP, Group Account Director, Doner
    - paragraph: As EVP, Group Acct. Dir. Paul has responsibility for some of Donerâ€™s largest accounts.
    - link "Visit their LinkedIn":
      - img
  - group "4 / 5":
    - img "Ryan Linder"
    - heading "Ryan Linder" [level=2]
    - paragraph: EVP and Global Chief Marketing Officer, Stagwell
    - paragraph: Ryan, a driver of strategic growth, is a respected partner to clients and STGW agencies.
    - link "Visit their LinkedIn":
      - img
  - group "5 / 5":
    - img "Diana Flores"
    - heading "Diana Flores" [level=2]
    - paragraph: Football
    - paragraph: Captain and Quarterback of the Mexico National Flag Football team.
    - link "Visit their Instagram":
      - img
    - link "Visit their X Profile":
      - img
  - button "Previous Slide" [disabled]:
    - img
  - button "Next Slide":
    - img
  - link "VIEW FULL ROSTER"
  - link "VIEW SCHEDULE"
  - heading "The Latest" [level=2]
  - link "The Latest":
    - img "The Latest"
  - text: Ad Age
  - link "Inside Stagwellâ€™s Sport Beach at Cannes and how it helped athletes connect with brands Lorem amet viver ra mi nunc adipiscing Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
  - paragraph: Blandit donec pellentesque vel at amet viver ra mi nunc adipiscing. Ullamcorper nulla nisl aliquam bibendum at felis ipsum volutpat.
  - group "1 / 7":
    - text: CNBC
    - link "Why sports marketing is a growth area according to Stagwell's Mark Penn"
  - group "2 / 7":
    - text: Ad Age
    - link "Inside Stagwellâ€™s Sport Beach at Cannes and how it helped athletes connect with brands Lorem amet viver ra mi nunc adipiscing Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
  - group "3 / 7":
    - text: Adweek
    - link "With Stagwell, Mark Penn Is Back in the Arena"
  - group "4 / 7":
    - text: Adweek
    - link "Even Without S4 Capital, Stagwell Has Ambitious Growth Plans"
  - group "5 / 7":
    - text: Nike
    - link "Lorem Ipsum Test News"
  - group "6 / 7":
    - text: Stagwell
    - link "New Athletes Confirmed to Appear at Stagwellâ€™s (STGW) Sport Beach 2024 During Cannes Lions"
  - group "7 / 7":
    - text: Adweek
    - link "Creativity, Pro Athletes and Pickleball Collide at Stagwell Sport Beach"
  - button "Go to previous slide" [disabled]:
    - img
    - text: previous
  - button "Go to next slide":
    - img
    - text: next
  - heading "Featured Content" [level=2]
  - figure:
    - img "Featured Content"
  - heading "Header Text" [level=3]
  - paragraph: Lorem ipsum dolor sit amet consectetur. Purus nullam dui ante posuere mattis nulla. Sapien enim vitae sed adipiscing sit. Ullamcorper ipsum commodo ut consectetur nibh sit. Dignissim nibh dignissim volutpat nullam nunc nisl interdum tortor. Lorem ipsum dolor sit amet consectetur. Purus nullam dui ante posuere mattis nulla. Sapien enim vitae sed adipiscing.
  - heading "2024 Highlights" [level=2]
  - group "1 / 5":
    - img "An inevitable headline"
    - heading "An inevitable headline" [level=3]
    - paragraph: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna al
  - group "2 / 5":
    - link "Sample Headline 212 Sample Headline 212 Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit":
      - img "Sample Headline 212"
      - heading "Sample Headline 212" [level=3]
      - paragraph: Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit
  - group "3 / 5":
    - link "Promotional Headline Promotional Headline Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al":
      - img "Promotional Headline"
      - heading "Promotional Headline" [level=3]
      - paragraph: Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al
  - group "4 / 5":
    - img "Highlights headline"
    - heading "Highlights headline" [level=3]
    - paragraph: Sed do eiusmod tempor incididunt ut labore et dolore magna al Lorem ipsum dolor sit amet, consectetur adipiscing elit
  - group "5 / 5":
    - link "gifimage gifimage Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al":
      - img "gifimage"
      - heading "gifimage" [level=3]
      - paragraph: Lorem Ipsum sed do eiusmod tempor incididunt ut labore et dolore magna al
  - button "Go to previous slide" [disabled]:
    - img
    - text: previous
  - button "Go to next slide":
    - img
    - text: next
  - region "Our Partners":
    - heading "Our Partners" [level=2]
    - link "View all"
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "72andSunny":
      - img "72andSunny"
    - text: Opens in a new window
    - link "Allison":
      - img "Allison"
    - text: Opens in a new window
    - link "Allison Larger":
      - img "Allison Larger"
    - text: Opens in a new window
    - link "Apollo Jets":
      - img "Apollo Jets"
    - text: Opens in a new window
    - link "Brand Performance":
      - img "Brand Performance"
    - text: Opens in a new window
    - link "CLIO":
      - img "CLIO"
    - text: Opens in a new window
    - link "Code and Theory":
      - img "Code and Theory"
    - text: Opens in a new window
    - link "colle mcvoy":
      - img "colle mcvoy"
    - text: Opens in a new window
    - link "DONER":
      - img "DONER"
    - text: Opens in a new window
    - link "Gatorade":
      - img "Gatorade"
    - text: Opens in a new window
    - link "GENIUS":
      - img "GENIUS"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
    - link "VII(N) - white":
      - img "VII(N) - white"
    - text: Opens in a new window
    - link "VII(N)":
      - img "VII(N)"
    - text: Opens in a new window
    - link "The North Face":
      - img "The North Face"
    - text: Opens in a new window
    - link "Siegelman Stable - white":
      - img "Siegelman Stable - white"
    - text: Opens in a new window
    - link "ReachTV":
      - img "ReachTV"
    - text: Opens in a new window
    - link "one of none - white":
      - img "one of none - white"
    - text: Opens in a new window
    - link "On Discourse":
      - img "On Discourse"
    - text: Opens in a new window
    - link "NBC universal":
      - img "NBC universal"
    - text: Opens in a new window
    - link "Logo 1":
      - img "Logo 1"
    - text: Opens in a new window
    - link "Instrument":
      - img "Instrument"
    - text: Opens in a new window
- contentinfo:
  - link "Letâ€™s partner!"
  - link "Visit Instagram":
    - img
  - link "Visit X Profile":
    - img
  - link "Visit LinkedIn":
    - img
  - navigation:
    - list:
      - listitem:
        - link "Privacy Policy"
      - listitem:
        - link "Terms and Conditions"
      - listitem:
        - link "Contact Us"
- text: This website uses cookies to enhance the user experience.
- button "Accept cookies": I understand
- alert
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { readFileSync } from 'fs';  // Import Node.js fs module
   3 |
   4 | // Load the test data from the JSON file
   5 | const testData = JSON.parse(readFileSync('./playwright/testdata/testdataAll.json', 'utf-8'));  // Replace with the correct path to your test data file
   6 |
   7 | // Helper function to validate main content text
   8 | async function validateMainContent(page, text) {
   9 |   await expect(page.locator('#main-content')).toContainText(text);
  10 | }
  11 |
  12 | // Helper function to validate article content
  13 | async function validateArticleContent(page, title, text1, text2) {
  14 |   await page.getByText(title).first().click();
  15 |   await expect(page.locator('#main-content')).toContainText(text1);
  16 |   await expect(page.locator('#main-content')).toContainText(text2);
  17 | }
  18 | test.describe('Featured 1 UP Test Suite', () => {
  19 |
  20 |   // allure.suite('Sauce Lab Login Feature Testcases');
  21 |   // This will run before each test to open the base URL
  22 |   test.beforeEach(async ({ page, baseURL }) => {
  23 |
  24 |     if (typeof baseURL === 'string') {
  25 |       await page.goto(baseURL);
  26 |       //allure.
  27 |       //  allure.label('Base URL', baseURL);
  28 |     } else {
  29 |       // allure.severity('baseURL is not defined or not a string');
  30 |       throw new Error('baseURL is not defined or not a string');
  31 |     }
  32 |   });
  33 |
  34 |   test.afterEach(async ({ page }, testInfo) => {
  35 |     console.log('Execution Status : ' + testInfo.status);
  36 |   });
  37 |
  38 |   test('Featured1UP - Validate Title, Dynamic Eyebrow, Page Title, Page Subtitle, Image, Graphics', async ({ page }) => {
  39 |     // Load the Featured1UP data from the testData
  40 |     const featured1UPData = testData.featured1UP[0]; // Get the first item from the 'featured1UP' array
  41 |
  42 |     // Navigate to the URL and close the alert pop-up
  43 |     // await page.goto('https://sportbeach-dev.vercel.app/');
  44 |     await page.getByRole('button', { name: 'Close Alert Pop Up' }).click();
  45 |
  46 |     // Validate the main content text from the test data
  47 |     await validateMainContent(page, featured1UPData.mainContentText);
  48 |
  49 |     // Validate the article content
  50 |     await validateArticleContent(page, featured1UPData.articleTitle, featured1UPData.articleText1, featured1UPData.articleText2);
  51 |
  52 |     // Validate that the 'The Latest' link is visible
  53 |     await expect(page.getByRole('link', { name: featured1UPData.latestLinkName })).toBeVisible();
  54 |   });
  55 |
  56 |   test.only('Featured1UP - Validate horizontal animation of locator on light scrolling', async ({ page }) => {
  57 |
  58 |     // Define the locator for the element that should animate
  59 |     const locator = page.locator('//*[@id="main-content"]/div[4]/div[4]/div[1]/a/div');
  60 |
  61 |     // Get the initial transform value (this includes translateX)
  62 |     const initialTransform = await locator.evaluate((element) => {
  63 |       return window.getComputedStyle(element).transform;
  64 |     });
  65 |
  66 |     // Log initial transform value
  67 |     console.log('Initial Transform:', initialTransform);
  68 |
  69 |     // Scroll the page by a small amount (light scrolling)
  70 |     await page.mouse.wheel(0, 100);  // Scroll 100px down, adjust this if needed
  71 |
  72 |     // Wait for animation to complete (adjust timing based on your page animation duration)
  73 |     await page.waitForTimeout(500);  // Waiting for 500ms or adjust according to animation speed
  74 |
  75 |     // Get the new transform value after scrolling
  76 |     const newTransform = await locator.evaluate((element) => {
  77 |       return window.getComputedStyle(element).transform;
  78 |     });
  79 |
  80 |     // Log new transform value
  81 |     console.log('New Transform:', newTransform);
  82 |
  83 |     // Extract translateX values from the transform string using regex
  84 |     const initialTranslateX = initialTransform.match(/matrix.*\((.*),\s*(.*),\s*(.*),\s*(.*),\s*(.*),\s*(.*)\)/)?.[1];  // Get X value from matrix
  85 |     const newTranslateX = newTransform.match(/matrix.*\((.*),\s*(.*),\s*(.*),\s*(.*),\s*(.*),\s*(.*)\)/)?.[1];  // Get X value from matrix
  86 |
  87 |     // Check if translateX has changed (indicating the animation)
> 88 |     expect(initialTranslateX).not.toEqual(newTranslateX);  // Ensure that translateX changed
     |                                   ^ Error: expect(received).not.toEqual(expected) // deep equality
  89 |
  90 |     // Optionally, assert that the change in translateX is within an expected range (if needed)
  91 |     const initialX = parseFloat(initialTranslateX || '0');
  92 |     const newX = parseFloat(newTranslateX || '0');
  93 |
  94 |     // Ensure that the X position has moved by at least some threshold (e.g., 1px)
  95 |     expect(Math.abs(newX - initialX)).toBeGreaterThan(1);  // Adjust the threshold if needed
  96 |   });
  97 |
  98 |
  99 | });
```